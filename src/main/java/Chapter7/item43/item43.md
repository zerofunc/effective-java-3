# 아이템 43 람다보다는 메서드 참조를 사용하라
- 람다가 익명클래스보다 나은 점 중에서 가장 큰 특징은 간결함
- 함수 객체를 람다보다 간결하게 만드는 방법
    - 메소드 참조(method reference)
- Java8 Integer 클래스와 모든 기본 타입의 박싱타입은 두 이순의 합을 반환하는 정적 메소드 sum을 제공함
before
```java
map.merge(key, 1, (count, incr) -> count + incr)
```     
after
```java
map.merge(key, Integer::sum)
```    

- 어떤 람다에서는 매개변수의 이름 자체가 프로그래머에게 좋은 가이드가 되기도 함
    - 이런 람다는 길이는 더 길지만 메서드 참조보다 읽기 쉽고 유지보수도 쉬울 수 있음
- 람다로 할 수 없는 일이리면 메서드 참조로도 할 수 없다 
    - 애매한 예외가 하나 있음
        - 
        - http://bit.ly/2uYQnbh
    - 그렇더라도 메서드 참조를 사용하는 편이 보통 더 ㅉ랍고 간결하므로 람다로 구현한게 너무 길거나 복잡하면 메서드 참조가 좋은 대안이 됨
    - 메서드 참조에는 기능을 잘 드러내는 이름을 지을 수 있고 설명을 문서로 남길 수 있음
- IDE들은 람다를 메서드 참조로 대체하라고 권함
    - 보통은 따르는게 이득이지만 항상 그런 것은 아님
    - 람다가 메서드 참조보다 간결할 때
        - 메서드와 람다가 같은 클래스에 있을 때
            - 메소드 참조 구현
            ```java
              service.execute(GoshThisClassNameIsHumongous::action);
            ```       
            - 람다 구현  
            ```java
              service.execute(() -> action())
            ```
        - Function.identity() 보다 (x -> x)를 직접 사용하는 편이 코드도 짧고 명확함
- 메소드 참조의 유형은 다섯가지
    - 가장 흔한 유형
        - 정적 메서드를 가리키는 메서드 참조
    - 인스턴스를 참조하는 유형
        - 수신 객체(receiving object; 참조 대상 인스턴스)를 특정하는 한정적(bound) 인스턴스 메서드 참조
        - 수신 객체를 특정하지 않는 비한정적(unbound) 인스턴스 메서드 참조
- 한정적 참조는 근본적으로 정적 참조와 비슷함
    - 함수 객체가 받는 인수와 참조되는 메서드 받는 인수가 똑같음
- 비한정적 참조에서는 함수 객체를 적용하는 시점에 수신 객체를 알려줌
    - 이를 위해 수신 객체 전달용 매개변수가 매개변수 목록의 첫 번째로 추가됨. 그 뒤로는 참조되는 메서드 선언에 정의된 매개변수들이 뒤따름
 -비한정적 참조는 주로 스트림 파이프라인에서의 매핑과 필터 함수에 쓰임(아이템 45)
- 클래스 생성자를 가리키는 메서드 참조와 배열 생성자를 가리키는 메서드 참조가 있음. 생서자 참조는 팩터리 객체로 사용됨  

- 메서드 참조 표
| 메서드 참조 유형   | 예                      | 같은 기능을 하는 람다                              |
|--------------------|-------------------------|----------------------------------------------------|
| 정적               | Integer::parseInt       | str -> Integer.parseInt(str)                       |
| 한정적(인스턴스)   | Instance.now()::isAfter | Instant then = Instant.now(); t -> then.isAfter(t) |
| 비한정적(인스턴스) | String::toLowerCase     | str -> str.toLowerCase()                           |
| 클래스 생성자      | TreeMap<K,V>::new       | () -> new TreeMap<K,V>()                           |
| 배열 생성자        | int[]::new              | len -> new int[len]                                |

- 메서드 참조는 람다의 간다명료한 대안이 될 수 있다. **메서드 참조 쪽이 짧고 명확하다면 메서드 참조를 쓰고, 그렇지 않을 때만 람다를 사용하라.**

|함수형 인터페이스의 추상 메서드가 제네릭일 수 있듯이 함수 타입도 제네릭일 수 있다
```java
interface G1 {
    <E extends Exception>Object m() throws E;
}

interface G2 {
    <F extends Exception> String m() throws Exception;
}

interface G extends G1, G2 {
}

// 이때 함수형 인터페이스 G를 함수 타입으로 표현하면 다음과 같음
<F extends Exception> () -> String throws F

```
| 함수형 인터페이스를 위한 제네릭 함수 타입은 메서드 참조 표현식으로는 구현할 수 있지만, 람다식으로는 불가능함. 제네릭 람다식 문법이 존재하지 않기 대문임

          
                
        